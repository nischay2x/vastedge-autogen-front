(this.webpackJsonpreact=this.webpackJsonpreact||[]).push([[0],{71:function(e,c,t){},72:function(e,c,t){"use strict";t.r(c);var a=t(1),l=t(32),n=t(14),s=t(36),i=t(35),o=function(){var e=arguments.length>1?arguments[1]:void 0;return e.type,[]},r=Object(n.b)({designerTable:o}),j=t(2),b=t(5),d=t.n(b),u="http://localhost:5000",m=["STRING","NUMBER","BOOLEAN","DATE","TIME","DATETIME","FILE","IMAGE","DECIMAL","MONEY","VARCHAR","INT","TEXT","FLOAT","REAL","VARBINARY(MAX)"],h=["VARCHAR","INT","FLOAT","BOOLEAN","DATE","TIME","DATETIME","FILE","IMAGE","MONEY"],O=["NUMBER","TEXT","EMAIL","PASSWORD","RADIO","CHECKBOX","DATE","TIME","DATETIME"],x=function(){return d.a.get(u+"/designer/pages")},f=function(e,c){return c?d.a.get(u+"/designer/columns/"+e+"?pageName="+c):d.a.get(u+"/designer/columns/"+e)},p=function(e){return d.a.get(u+"/dataset/columns/"+e)},N=function(e){var c=function(e){var c=e;return Object.keys(e).forEach((function(t){e[t]||delete c[t]})),c.allowNull=c.allowNull?1:0,c.keepUnique=c.keepUnique?1:0,c}(e);return console.log(c),d.a.post(u+"/dataset/column",c)},g=function(e,c){var t=function(e){delete e.id;var c=e;return Object.keys(e).forEach((function(t){e[t]||delete c[t]})),c.allowNull=c.allowNull?1:0,c.keepUnique=c.keepUnique?1:0,c}(c);return d.a.patch(u+"/dataset/column/"+e,t)};var v=t(0);function k(e){var c=e.rows,t=e.onRowEdit,a=e.onRowDelete,l=e.hideActions;return Object(v.jsxs)("table",{className:"table table-striped",children:[Object(v.jsx)("thead",{className:"bg-dark text-white",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Id"}),Object(v.jsx)("th",{scope:"col",children:"Page Name"}),Object(v.jsx)("th",{scope:"col",children:"Table Name"}),Object(v.jsx)("th",{scope:"col",children:"Column Name"}),Object(v.jsx)("th",{scope:"col",children:"Label"}),Object(v.jsx)("th",{scope:"col",children:"Apply Filter"}),Object(v.jsx)("th",{scope:"col",children:"Display Mode"}),Object(v.jsx)("th",{scope:"col",children:"Display Length"}),Object(v.jsx)("th",{scope:"col",children:"Table Type"}),Object(v.jsx)("th",{scope:"col",children:"Join Column"}),Object(v.jsx)("th",{scope:"col",children:"Reference Table"}),Object(v.jsx)("th",{scope:"col",children:"Reference Column"}),l?Object(v.jsx)(v.Fragment,{}):Object(v.jsx)("th",{scope:"col",className:"bg-secondary",children:"Action"})]})}),Object(v.jsx)("tbody",{children:c.map((function(e,c){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"row",children:e.id}),Object(v.jsx)("td",{children:e.pageName}),Object(v.jsx)("td",{children:e.tableName}),Object(v.jsx)("td",{children:e.columnName}),Object(v.jsx)("td",{children:e.label}),Object(v.jsx)("td",{children:e.applyFilter.toString()}),Object(v.jsx)("td",{children:e.displayMode}),Object(v.jsx)("td",{children:e.displayLength||"Unspecified"}),Object(v.jsx)("td",{children:e.isMaster?"Master":"Detail"}),Object(v.jsx)("td",{children:e.isJoinColumn.toString()}),Object(v.jsx)("td",{children:e.refTable||"Not Applicable"}),Object(v.jsx)("td",{children:e.refColumn||"Not Applicable"}),l?Object(v.jsx)(v.Fragment,{}):Object(v.jsxs)("td",{children:[Object(v.jsx)("button",{className:"btn btn-sm btn-warning mr-2",onClick:function(a){t(a,c,e.id)},children:"Edit"}),Object(v.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(t){a(t,c,e.id)},children:"Delete"})]})]},c)}))})]})}var y=t(3),C=t(4),w=t(10);function T(){var e=Object(a.useState)("/"),c=Object(y.a)(e,2),t=c[0],l=c[1],n=Object(C.e)();return Object(a.useEffect)((function(){l(n.pathname)}),[n]),Object(v.jsxs)("div",{className:"d-flex flex-column w-100 sidebar-hold",children:[Object(v.jsx)(w.b,{to:"/",className:"navs ".concat("/"===t?"active":""),children:"Home"}),Object(v.jsx)(w.b,{to:"/pages",className:"navs ".concat("/pages"===t?"active":""),children:"Pages"}),Object(v.jsx)(w.b,{to:"/datasets",className:"navs ".concat("/datasets"===t?"active":""),children:"Datasets"})]})}t(71);var E=t(9),S={label:"",displayMode:"TEXT",isJoinColumn:!1,displayLength:"",applyFilter:!1,refTable:"",refColumn:""};function F(e){var c,t,a=e.response;(console.log(a),a.data.type)?alert("".concat(null===(c=a.data)||void 0===c?void 0:c.type," : ").concat(null===(t=a.data)||void 0===t?void 0:t.error)):alert("An Error Occured")}function D(){var e=Object(a.useState)([]),c=Object(y.a)(e,2),t=c[0],l=c[1],n=Object(a.useState)(""),s=Object(y.a)(n,2),i=s[0],o=s[1],r=Object(a.useState)([]),b=Object(y.a)(r,2),h=b[0],N=b[1],g=Object(a.useState)(""),C=Object(y.a)(g,2),w=C[0],T=C[1],D=Object(a.useState)(!0),A=Object(y.a)(D,2),L=A[0],M=A[1],R=Object(a.useState)([]),U=Object(y.a)(R,2),q=U[0],I=U[1],J=Object(a.useState)(!1),P=Object(y.a)(J,2),Y=P[0],V=P[1],X=Object(a.useState)(S),B=Object(y.a)(X,2),H=B[0],G=B[1],K=Object(a.useState)([]),W=Object(y.a)(K,2),z=W[0],Q=W[1],Z=Object(a.useState)({columnName:"",dataType:"STRING",tableName:"",maxLength:"",allowNull:!1,keepUnique:!1}),$=Object(y.a)(Z,2),_=$[0],ee=$[1],ce=Object(a.useState)([]),te=Object(y.a)(ce,2),ae=te[0],le=te[1],ne=Object(a.useState)(""),se=Object(y.a)(ne,2),ie=se[0],oe=se[1],re=Object(a.useState)(!0),je=Object(y.a)(re,2),be=je[0],de=je[1],ue=Object(a.useState)([]),me=Object(y.a)(ue,2),he=me[0],Oe=me[1],xe=Object(a.useState)(!1),fe=Object(y.a)(xe,2),pe=fe[0],Ne=fe[1],ge=Object(a.useState)(""),ve=Object(y.a)(ge,2),ke=ve[0],ye=ve[1],Ce=Object(a.useState)({pageName:!1,tableName:!1,columnName:!1}),we=Object(y.a)(Ce,2),Te=we[0],Ee=we[1],Se=Object(a.useState)({pageName:!1,tableName:!0,columnName:!0}),Fe=Object(y.a)(Se,2),De=Fe[0],Ae=Fe[1],Le=function(e){Ae((function(e){return Object(j.a)(Object(j.a)({},e),{},{tableName:!0})})),function(e){return e?d.a.get(u+"/designer/tables/"+e):d.a.get(u+"/dataset/tables")}(e).then((function(e){N(e.data.data),Ae((function(e){return Object(j.a)(Object(j.a)({},e),{},{tableName:!1})}))})).catch(F)},Me=function(e){var c=e.data.data;I(c),V(!0),c.length?(M(c[0].isMaster),c[0].pageName===i?de(!0):de(!1)):de(!1)};Object(a.useEffect)((function(){var e,c=i&&!t.includes(i);(Ee((function(e){return Object(j.a)(Object(j.a)({},e),{},{pageName:c})})),c)?V(!1):(V(!0),(null===(e=q[0])||void 0===e?void 0:e.pageName)===i?de(!0):de(!1))}),[i]),Object(a.useEffect)((function(){w&&(f(w).then(Me).catch(F),Ae((function(e){return Object(j.a)(Object(j.a)({},e),{},{columnName:!0})})),p(w).then((function(e){var c=e.data.data,t=c.map((function(e){return e.columnName}));le(t),Q(c),Ae((function(e){return Object(j.a)(Object(j.a)({},e),{},{columnName:!1})}))})).catch((function(e){F(e),Ae((function(e){return Object(j.a)(Object(j.a)({},e),{},{columnName:!1})}))})))}),[w]),Object(a.useEffect)((function(){if(ie){var e=z.find((function(e){return e.columnName===ie}));ee(e)}}),[ie]),Object(a.useEffect)((function(){H.isJoinColumn||G((function(e){return Object(j.a)(Object(j.a)({},e),{},{refColumn:"",refTable:""})}))}),[H.isJoinColumn]),Object(a.useEffect)((function(){H.refTable&&function(e){return d.a.get(u+"/dataset/joinable/columns/"+e)}(H.refTable).then((function(e){var c=e.data.data;Oe(c)})).catch(F)}),[H.refTable]);var Re=function(e){switch(e.target.name){case"pageName":o(e.target.value);break;case"tableName":T(e.target.value);break;case"columnName":oe(e.target.value),ee((function(c){return Object(j.a)(Object(j.a)({},c),{},{columnName:e.target.value})}))}};Object(a.useEffect)((function(){Ae((function(e){return Object(j.a)(Object(j.a)({},e),{},{pageName:!0})})),x().then((function(e){l(e.data.data),Ae((function(e){return Object(j.a)(Object(j.a)({},e),{},{pageName:!1})}))})).catch((function(e){F(e),Ae((function(e){return Object(j.a)(Object(j.a)({},e),{},{pageName:!1})}))})),Le()}),[]);return Object(v.jsxs)("div",{className:"container-fluid py-4",children:[Object(v.jsx)("div",{className:"col-12",children:Object(v.jsx)("h3",{className:"fw-500",children:"Automation System"})}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"d-flex flex-wrap rg-1",children:[Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsxs)("div",{className:"w-100 multi-input-hold ".concat(Te.pageName?"new":""),children:[Object(v.jsx)("label",{children:"Page Name"}),Object(v.jsx)("input",{type:"text",name:"pageName",list:"pageList",placeholder:"Choose/Enter Page Name",disabled:De.pageName,className:"form-control",value:i,onChange:Re}),Object(v.jsx)("datalist",{id:"pageList",children:t.map((function(e,c){return Object(v.jsx)("option",{value:e},c)}))})]}),Object(v.jsx)("label",{className:"pt-2 pl-1",children:"This is a New Page"})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsxs)("div",{className:"w-100 multi-input-hold ".concat(Te.tableName?"new":""),children:[Object(v.jsx)("label",{children:"Table Name"}),Object(v.jsxs)("select",{name:"tableName",disabled:De.tableName,className:"form-control",value:w,onChange:Re,children:[Object(v.jsx)("option",{value:"",defaultChecked:!0,children:"Select Table"}),h.map((function(e,c){return Object(v.jsx)("option",{value:e,children:e},c)}))]})]}),Object(v.jsx)("label",{children:"This is a New Table"})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{children:"Table Type"}),Object(v.jsxs)("div",{className:"d-flex cg-1",children:[Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"isMaster",value:"1",checked:L,disabled:be,className:"form-check-input",id:"imt",onChange:function(){M(!0)}}),Object(v.jsx)("label",{htmlFor:"imt",className:"form-check-label",children:"Master"})]}),Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"isMaster",value:"0",checked:!L,disabled:be,className:"form-check-input",id:"imf",onChange:function(){M(!1)}}),Object(v.jsx)("label",{htmlFor:"imf",className:"form-check-label",children:"Detail"})]})]})]}),Object(v.jsx)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:"mt-auto btn btn-primary",onClick:function(){ae.length&&oe(ae[0])},children:"Add A Column"})})})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"border p-2 ".concat(ie||pe?"":"hide"),children:[Object(v.jsx)("h6",{children:"Dataset Info"}),Object(v.jsxs)("div",{className:"d-flex flex-wrap rg-1",children:[Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6",children:[Object(v.jsxs)("div",{className:"w-100 multi-input-hold ".concat(Te.columnName?"new":""),children:[Object(v.jsx)("label",{children:"Column Name"}),Object(v.jsxs)("select",{name:"columnName",value:ie,className:"form-control",onChange:Re,disabled:De.columnName,children:[Object(v.jsx)("option",{value:"",defaultChecked:!0,children:"Select Column"}),ae.map((function(e,c){return Object(v.jsx)("option",{value:e,children:e},c)}))]})]}),Object(v.jsx)("label",{children:"This is new Column"})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6",children:[Object(v.jsx)("label",{children:"Data Type"}),Object(v.jsx)("select",{name:"dataType",className:"form-control",value:_.dataType,disabled:!Te.columnName,onChange:function(e){ee((function(c){return Object(j.a)(Object(j.a)({},c),{},{dataType:e.target.value})}))},children:m.map((function(e,c){return Object(v.jsx)("option",{value:e,children:e},c)}))})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6",children:[Object(v.jsx)("label",{children:"Data Length"}),Object(v.jsx)("input",{type:"number",name:"dataLength",className:"form-control",value:_.maxLength,disabled:!Te.columnName,onChange:function(e){ee((function(c){return Object(j.a)(Object(j.a)({},c),{},{maxLength:e.target.value})}))},placeholder:"Data Length"})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6",children:[Object(v.jsx)("label",{children:"Allow Null Values"}),Object(v.jsxs)("div",{className:"d-flex cg-1",children:[Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"allowNull",id:"ant",className:"form-check-input",checked:_.allowNull,disabled:!Te.columnName,onChange:function(){ee((function(e){return Object(j.a)(Object(j.a)({},e),{},{nullConstrain:!0})}))}}),Object(v.jsx)("label",{htmlFor:"ant",className:"form-check-label",children:"Yes"})]}),Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"allowNull",id:"anf",className:"form-check-input",checked:!_.allowNull,disabled:!Te.columnName,onChange:function(){ee((function(e){return Object(j.a)(Object(j.a)({},e),{},{nullConstrain:!1})}))}}),Object(v.jsx)("label",{htmlFor:"anf",className:"form-check-label",children:"No"})]})]})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6",children:[Object(v.jsx)("label",{children:"Keep Values Unique"}),Object(v.jsxs)("div",{className:"d-flex cg-1",children:[Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"keepUnique",id:"kut",className:"form-check-input",checked:_.keepUnique,disabled:!Te.columnName,onChange:function(){ee((function(e){return Object(j.a)(Object(j.a)({},e),{},{keepUnique:!0})}))}}),Object(v.jsx)("label",{htmlFor:"kut",className:"form-check-label",children:"Yes"})]}),Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"keepUnique",id:"kuf",className:"form-check-input",checked:!_.keepUnique,disabled:!Te.columnName,onChange:function(){ee((function(e){return Object(j.a)(Object(j.a)({},e),{},{keepUnique:!1})}))}}),Object(v.jsx)("label",{htmlFor:"kuf",className:"form-check-label",children:"No"})]})]})]})]})]}),Object(v.jsx)("br",{}),Object(v.jsxs)("div",{className:"border p-2 ".concat(ie||pe?"":"hide"),children:[Object(v.jsxs)("h6",{children:[pe?"Edit":"Fill"," Data"]}),Object(v.jsxs)("div",{className:"d-flex w-100 flex-wrap rg-1",children:[Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{children:"Label"}),Object(v.jsx)("input",{type:"text",required:!0,name:"label",className:"form-control",value:H.label,onChange:function(e){G((function(c){return Object(j.a)(Object(j.a)({},c),{},{label:e.target.value})}))},placeholder:"Label"})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{children:"Display Mode"}),Object(v.jsxs)("select",{name:"displayMode",className:"form-control",value:H.displayMode,onChange:function(e){G((function(c){return Object(j.a)(Object(j.a)({},c),{},{displayMode:e.target.value})}))},children:[Object(v.jsx)("option",{value:"",defaultChecked:!0,children:"Select Mode"}),O.map((function(e,c){return Object(v.jsx)("option",{value:e,children:e},c)}))]})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{children:"Display Length"}),Object(v.jsx)("input",{type:"number",name:"displayLength",className:"form-control",value:H.displayLength,onChange:function(e){G((function(c){return Object(j.a)(Object(j.a)({},c),{},{displayLength:e.target.value})}))},placeholder:"Display Length"})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{children:"Apply Filter"}),Object(v.jsxs)("div",{className:"d-flex cg-1",children:[Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"applyFilter",id:"aft",className:"form-check-input",checked:H.applyFilter,onChange:function(){G((function(e){return Object(j.a)(Object(j.a)({},e),{},{applyFilter:!0})}))}}),Object(v.jsx)("label",{htmlFor:"aft",className:"form-check-label",children:"True"})]}),Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"applyFilter",id:"aff",className:"form-check-input",checked:!H.applyFilter,onChange:function(){G((function(e){return Object(j.a)(Object(j.a)({},e),{},{applyFilter:!1})}))}}),Object(v.jsx)("label",{htmlFor:"aff",className:"form-check-label",children:"False"})]})]})]}),L?Object(v.jsx)(v.Fragment,{}):Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{children:"This is a Join Column"}),Object(v.jsxs)("div",{className:"d-flex cg-1",children:[Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"isJoinColumn",id:"ijct",className:"form-check-input",checked:H.isJoinColumn,onChange:function(){G((function(e){return Object(j.a)(Object(j.a)({},e),{},{isJoinColumn:!0})}))}}),Object(v.jsx)("label",{htmlFor:"ijct",className:"form-check-label",children:"Yes"})]}),Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"isJoinColumn",id:"ijcf",className:"form-check-input",checked:!H.isJoinColumn,onChange:function(){G((function(e){return Object(j.a)(Object(j.a)({},e),{},{isJoinColumn:!1})}))}}),Object(v.jsx)("label",{htmlFor:"ijcf",className:"form-check-label",children:"No"})]})]})]}),H.isJoinColumn?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{className:"form-label",children:"Reference Table"}),Object(v.jsxs)("select",{name:"refTable",className:"form-control",value:H.refTable,onChange:function(e){G((function(c){return Object(j.a)(Object(j.a)({},c),{},{refTable:e.target.value})}))},children:[Object(v.jsx)("option",{value:"",defaultChecked:!0,children:"Select Table"}),h.map((function(e,c){return Object(v.jsx)("option",{value:e,children:e},c)}))]})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{className:"form-label",children:"Reference Column"}),Object(v.jsxs)("select",{name:"refColumn",className:"form-control",value:H.refColumn,onChange:function(e){G((function(c){return Object(j.a)(Object(j.a)({},c),{},{refColumn:e.target.value})}))},children:[Object(v.jsx)("option",{value:"",defaultChecked:!0,children:"Select Column"}),he.map((function(e,c){return Object(v.jsx)("option",{value:e,children:e},c)}))]})]})]}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("div",{className:"col d-flex",children:Object(v.jsxs)("div",{className:"d-flex mt-auto cg-1 rg-1 pb-1",children:[Object(v.jsx)("button",{className:"btn btn-sm btn-success",onClick:function(e){var c,t;e.preventDefault(),pe?(c=q[ke].id,t=Object(j.a)(Object(j.a)({},H),{},{columnName:ie}),t.applyFilter=t.applyFilter?1:0,t.isJoinColumn=t.isJoinColumn?1:0,d.a.patch(u+"/designer/column/"+c,t)).then((function(e){f(w).then(Me).catch(F),alert(e.data.msg)})).catch(F):function(e,c,t,a,l){e.displayLength||delete e.displayLength,e.isJoinColumn=e.isJoinColumn?1:0,e.applyFilter=e.applyFilter?1:0;var n=Object(j.a)(Object(j.a)({},e),{},{pageName:c,tableName:t,columnName:a,isMaster:l?1:0});return d.a.post(u+"/designer/column",n)}(H,i,w,ie,L).then((function(e){var c=e.data.data;I((function(e){return[].concat(Object(E.a)(e),[c])})),alert("Data Inserted")})).catch(F)},children:"Submit"}),Object(v.jsx)("button",{className:"btn btn-sm btn-info",onClick:function(){G(S),Ne(!1),oe("")},children:"Cancel"})]})})]})]}),Object(v.jsx)("br",{}),De.columnName?Object(v.jsx)("div",{className:"d-flex justify-content-center py-2",children:Object(v.jsx)("div",{className:"loader"})}):Object(v.jsx)(v.Fragment,{}),Y?Object(v.jsx)("div",{style:{overflowX:"scroll"},children:q.length?Object(v.jsx)(k,{rows:q,onRowDelete:function(e,c,t){(function(e){return confirm("Delete "+e)?d.a.delete(u+"/designer/column/"+e):void 0})(t).then((function(e){var t=q.filter((function(e,t){return t!==c}));I(t)})).catch(F)},onRowEdit:function(e,c,t){Ne(!0);var a=q[c];ye(c),oe(a.columnName),G((function(e){return Object(j.a)(Object(j.a)({},e),{},{label:a.label,displayLength:a.displayLength,displayMode:a.displayMode,isJoinColumn:a.isJoinColumn,applyFilter:a.applyFilter,refColumn:a.refColumn,refTable:a.refTable})}))}}):Object(v.jsx)("div",{className:"text-danger text-center",children:"No Data to Show"})}):Object(v.jsx)(v.Fragment,{})]})}var A=t(16);function L(e){var c=e.rows,t=e.onRowDelete,a=e.onRowEdit;return Object(v.jsxs)("table",{className:"table table-striped",children:[Object(v.jsx)("thead",{className:"bg-dark text-white",children:Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"col",children:"Id"}),Object(v.jsx)("th",{scope:"col",children:"Table Name"}),Object(v.jsx)("th",{scope:"col",children:"Column Name"}),Object(v.jsx)("th",{scope:"col",children:"Data Type"}),Object(v.jsx)("th",{scope:"col",children:"Max Length"}),Object(v.jsx)("th",{scope:"col",children:"Allow Null"}),Object(v.jsx)("th",{scope:"col",className:"w-fc",children:"Keep Unique"}),Object(v.jsx)("th",{scope:"col",className:"bg-secondary",children:"Action"})]})}),Object(v.jsx)("tbody",{children:c.map((function(e,c){return Object(v.jsxs)("tr",{children:[Object(v.jsx)("th",{scope:"row",children:e.id}),Object(v.jsx)("td",{children:e.tableName}),Object(v.jsx)("td",{children:e.columnName}),Object(v.jsx)("td",{children:e.dataType}),Object(v.jsx)("td",{children:e.maxLength||"Unspecified"}),Object(v.jsx)("td",{children:e.allowNull.toString()}),Object(v.jsx)("td",{children:e.keepUnique.toString()}),Object(v.jsxs)("td",{children:[Object(v.jsx)("button",{className:"btn btn-sm btn-warning mr-2",onClick:function(t){a(t,c,e.id)},children:"Edit"}),Object(v.jsx)("button",{className:"btn btn-sm btn-danger",onClick:function(a){t(a,c,e.id)},children:"Delete"})]})]},c)}))})]})}var M={tableName:"",columnName:"",dataType:"VARCHAR",maxLength:"",allowNull:!0,keepUnique:!1};function R(e){var c,t,a=e.response;(console.log(a),a.data.type)?alert("".concat(null===(c=a.data)||void 0===c?void 0:c.type," : ").concat(null===(t=a.data)||void 0===t?void 0:t.error)):alert("An Error Occured")}function U(){var e=Object(a.useState)([]),c=Object(y.a)(e,2),t=c[0],l=c[1],n=Object(a.useState)([]),s=Object(y.a)(n,2),i=s[0],o=s[1],r=Object(a.useState)(""),b=Object(y.a)(r,2),m=b[0],O=b[1],x=Object(a.useState)(M),f=Object(y.a)(x,2),k=f[0],C=f[1],w=Object(a.useState)(!0),T=Object(y.a)(w,2),S=T[0],F=T[1],D=Object(a.useState)(!1),U=Object(y.a)(D,2),q=U[0],I=U[1],J=Object(a.useState)(!1),P=Object(y.a)(J,2),Y=P[0],V=P[1],X=Object(a.useState)(!1),B=Object(y.a)(X,2),H=B[0],G=B[1],K=Object(a.useState)(!1),W=Object(y.a)(K,2),z=W[0],Q=W[1],Z=Object(a.useState)(null),$=Object(y.a)(Z,2),_=$[0],ee=$[1],ce=function(e){C((function(c){return Object(j.a)(Object(j.a)({},c),{},Object(A.a)({},e.target.name,e.target.value))}))};Object(a.useEffect)((function(){d.a.get(u+"/dataset/tables").then((function(e){l(e.data.data),F(!1)})).catch(R)}),[]),Object(a.useEffect)((function(){m&&(I(!0),H&&C((function(e){return Object(j.a)(Object(j.a)({},e),{},{tableName:m})})),p(m).then((function(e){o(e.data.data),I(!1)})).catch(R))}),[m]);return Object(v.jsxs)("div",{className:"container-fluid py-3",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h3",{children:"Dataset Tables"})}),Object(v.jsx)("hr",{}),Object(v.jsxs)("div",{className:"d-flex justify-content-between pb-2",children:[Object(v.jsx)("h6",{children:"Dataset List"}),Object(v.jsx)("button",{className:"btn btn-sm btn-primary",onClick:function(){V(!0),G(!1),Q(!1),C((function(e){return Object(j.a)(Object(j.a)({},e),{},{tableName:""})}))},children:"Create New Table"})]}),Object(v.jsxs)("div",{className:"d-flex cg-1",children:[S?Object(v.jsx)("div",{className:"loader-sm"}):Object(v.jsx)(v.Fragment,{}),t.length?t.map((function(e,c){return Object(v.jsx)("button",{className:"btn btn-sm btn-".concat(e===m?"dark":"success"),onClick:function(){O(e)},children:e},c)})):Object(v.jsx)("div",{className:"text-danger",children:"No Tables"})]}),Object(v.jsx)("br",{}),Y||H||z?Object(v.jsxs)("div",{className:"border p-2",children:[Object(v.jsxs)("h6",{children:[z?"Edit":"Fill"," Details"]}),Object(v.jsxs)("div",{className:"d-flex flex-wrap rg-1 py-2",children:[z?Object(v.jsx)(v.Fragment,{}):Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{className:"form-label",children:"Table Name"}),Y?Object(v.jsx)("input",{className:"form-control",type:"text",name:"tableName",value:k.tableName,onChange:ce,placeholder:"No whitespaces"}):Object(v.jsx)("select",{className:"form-control",name:"tableName",value:k.tableName,onChange:ce,children:t.map((function(e,c){return Object(v.jsx)("option",{value:e,children:e},c)}))})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{className:"form-label",children:"Column Name"}),Object(v.jsx)("input",{className:"form-control",type:"text",name:"columnName",value:k.columnName,onChange:ce,placeholder:"No whitespaces"})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{className:"form-label",children:"Data Type"}),Object(v.jsx)("select",{name:"dataType",className:"form-control",value:k.dataType,onChange:ce,children:h.map((function(e,c){return Object(v.jsx)("option",{value:e,children:e},c)}))})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{className:"form-label",children:"Max Length"}),Object(v.jsx)("input",{className:"form-control",type:"text",name:"maxLength",value:k.maxLength,onChange:ce,placeholder:"Number"})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{children:"Allow Null Values"}),Object(v.jsxs)("div",{className:"d-flex cg-1",children:[Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"allowNull",id:"ant",className:"form-check-input",checked:k.allowNull,onChange:function(){C((function(e){return Object(j.a)(Object(j.a)({},e),{},{allowNull:!0})}))}}),Object(v.jsx)("label",{htmlFor:"ant",className:"form-check-label",children:"Yes"})]}),Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"allowNull",id:"anf",className:"form-check-input",checked:!k.allowNull,onChange:function(){C((function(e){return Object(j.a)(Object(j.a)({},e),{},{allowNull:!1})}))}}),Object(v.jsx)("label",{htmlFor:"anf",className:"form-check-label",children:"No"})]})]})]}),Object(v.jsxs)("div",{className:"col-lg-4 col-xl-3 col-md-6 col-12",children:[Object(v.jsx)("label",{children:"Keep Values Unique"}),Object(v.jsxs)("div",{className:"d-flex cg-1",children:[Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"keepUnique",id:"kut",className:"form-check-input",checked:k.keepUnique,onChange:function(){C((function(e){return Object(j.a)(Object(j.a)({},e),{},{keepUnique:!0})}))}}),Object(v.jsx)("label",{htmlFor:"kut",className:"form-check-label",children:"Yes"})]}),Object(v.jsxs)("div",{className:"form-check",children:[Object(v.jsx)("input",{type:"radio",name:"keepUnique",id:"kuf",className:"form-check-input",checked:!k.keepUnique,onChange:function(){C((function(e){return Object(j.a)(Object(j.a)({},e),{},{keepUnique:!1})}))}}),Object(v.jsx)("label",{htmlFor:"kuf",className:"form-check-label",children:"No"})]})]})]}),Object(v.jsxs)("div",{className:"col py-2",children:[Object(v.jsx)("button",{className:"btn m-1 btn-sm btn-warning",onClick:function(e){e.preventDefault(),Y?N(k).then((function(e){var c=e.data.data;l((function(e){return[].concat(Object(E.a)(e),[c.tableName])})),O(c.tableName),alert("New Table Created"),V(!1)})).catch(R):H?N(k).then((function(e){var c=e.data.data;o((function(e){return[].concat(Object(E.a)(e),[c])})),alert("New Column Inserted"),G(!1)})).catch(R):z&&g(i[_].id,k).then((function(e){var c=e.data.data,t=i;t[_]=c,o(t),alert("Data Updated"),Q(!1)})).catch(R)},children:"Submit"}),Object(v.jsx)("button",{className:"btn m-1 btn-sm btn-info",onClick:function(){Q(!1),G(!1),V(!1),C(M)},children:"Cancel"})]})]})]}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("br",{}),i.length?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[Object(v.jsxs)("span",{children:["Data of Table ",Object(v.jsx)("strong",{children:m})]}),Object(v.jsx)("button",{className:"btn btn-success",onClick:function(){G(!0),C((function(e){return Object(j.a)(Object(j.a)({},M),{},{tableName:m})})),V(!1),Q(!1)},children:"Add A Column"})]}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"d-flex pb-4 justify-content-center",children:q?Object(v.jsx)("div",{className:"py-3 loader"}):Object(v.jsx)(v.Fragment,{})}),Object(v.jsx)("div",{style:{overflowX:"scroll"},children:Object(v.jsx)(L,{rows:i,onRowDelete:function(e,c,t){console.log("index ",c),function(e){return confirm("Confirm Delete Dataset with Id "+e)?d.a.delete(u+"/dataset/column/"+e):void 0}(t).then((function(e){alert("Data Deleted");var t=i.filter((function(e,t){return t!==c}));o(t)})).catch(R)},onRowEdit:function(e,c,t){Q(!0),ee(c),C({tableName:i[c].tableName,columnName:i[c].columnName,dataType:i[c].dataType,maxLength:i[c].maxLength,allowNull:i[c].allowNull,keepUnique:i[c].keepUnique})}})})]}):Object(v.jsx)(v.Fragment,{})]})}function q(e){var c,t,a=e.response;(console.log(a),a.data.type)?alert("".concat(null===(c=a.data)||void 0===c?void 0:c.type," : ").concat(null===(t=a.data)||void 0===t?void 0:t.error)):alert("An Error Occured")}function I(){var e=Object(a.useState)([]),c=Object(y.a)(e,2),t=c[0],l=c[1],n=Object(a.useState)(!0),s=Object(y.a)(n,2),i=s[0],o=s[1],r=Object(a.useState)(""),j=Object(y.a)(r,2),b=j[0],m=j[1],h=Object(a.useState)([]),O=Object(y.a)(h,2),p=O[0],N=O[1],g=Object(a.useState)(""),C=Object(y.a)(g,2),w=C[0],T=C[1],E=Object(a.useState)(!1),S=Object(y.a)(E,2),F=S[0],D=S[1],A=Object(a.useState)([]),L=Object(y.a)(A,2),M=L[0],R=L[1];Object(a.useEffect)((function(){var e;b&&(e=b,e?d.a.get(u+"/designer/columns?pageName="+e):d.a.get(u+"/designer/columns")).then((function(e){var c=e.data.data;R(c);var t=[];c.forEach((function(e){t.includes(e.tableName)||t.push(e.tableName)})),N(t)})).catch(q)}),[b]),Object(a.useEffect)((function(){w&&(D(!0),f(w,b).then((function(e){R(e.data.data),D(!1)})).catch(q))}),[w]),Object(a.useEffect)((function(){x().then((function(e){l(e.data.data),o(!1)})).catch(q)}),[]);return Object(v.jsxs)("div",{className:"container-fluid py-3",children:[Object(v.jsx)("div",{children:Object(v.jsx)("h3",{children:"Designer Pages"})}),Object(v.jsx)("hr",{}),Object(v.jsx)("div",{className:"d-flex justify-content-between pb-2",children:Object(v.jsx)("h6",{children:"Pages List"})}),Object(v.jsxs)("div",{className:"d-flex cg-1",children:[i?Object(v.jsx)("div",{className:"loader-sm"}):Object(v.jsx)(v.Fragment,{}),t.length?t.map((function(e,c){return Object(v.jsx)("button",{className:"btn btn-sm btn-".concat(e===b?"dark":"success"),onClick:function(){m(e)},children:e},c)})):Object(v.jsx)("div",{className:"text-danger",children:"No Pages"})]}),Object(v.jsx)("br",{}),b?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("div",{className:"pb-2",children:Object(v.jsxs)("span",{children:["Tables in ",Object(v.jsx)("strong",{children:b})," "]})}),Object(v.jsx)("div",{className:"d-flex cg-1",children:p.length?p.map((function(e,c){return Object(v.jsx)("button",{className:"btn btn-sm btn-".concat(e===w?"dark":"success"),onClick:function(){T(e)},children:e},c)})):Object(v.jsx)("div",{className:"text-danger",children:"No Tables in this Page"})})]}):Object(v.jsx)(v.Fragment,{}),Object(v.jsxs)("div",{children:[Object(v.jsx)("br",{}),F?Object(v.jsx)("div",{className:"d-flex justify-content-center py-2",children:Object(v.jsx)("div",{className:"loader"})}):Object(v.jsx)(v.Fragment,{}),Object(v.jsx)("div",{style:{overflowX:"scroll"},children:M.length?Object(v.jsx)(k,{hideActions:!0,rows:M,onRowDelete:function(){},onRowEdit:function(){}}):Object(v.jsx)("div",{className:"text-danger text-center",children:"No Data to Show"})})]})]})}function J(){return Object(v.jsx)("main",{className:"d-flex w-100",style:{height:"100vh"},children:Object(v.jsxs)(w.a,{children:[Object(v.jsx)("div",{className:"col-md-3 col-lg-3 col-xl-2 px-0",children:Object(v.jsx)(T,{})}),Object(v.jsx)("div",{className:"col-md-9 col-lg-9 col-xl-10 px-0",style:{maxHeight:"100vh",overflowY:"scroll"},children:Object(v.jsxs)(C.c,{children:[Object(v.jsx)(C.a,{exact:!0,path:"/",element:Object(v.jsx)(D,{})}),Object(v.jsx)(C.a,{exact:!0,path:"/datasets",element:Object(v.jsx)(U,{})}),Object(v.jsx)(C.a,{exact:!0,path:"/pages",element:Object(v.jsx)(I,{})})]})})]})})}var P=Object(n.c)(r,Object(n.a)(i.a)),Y=document.getElementById("root");Object(l.createRoot)(Y).render(Object(v.jsx)(a.StrictMode,{children:Object(v.jsx)(s.a,{store:P,children:Object(v.jsx)(J,{})})}))}},[[72,1,2]]]);
//# sourceMappingURL=main.20574b52.chunk.js.map